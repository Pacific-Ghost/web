<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LOVE SICK AGE — Heartbeat Animation Playground</title>
<link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;400;500;600;700&family=Orbitron:wght@400;500;600;700&family=Michroma&family=Audiowide&family=Russo+One&family=Black+Ops+One&family=Megrim&family=Wire+One&display=swap" rel="stylesheet">
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0a0515;
  color: #f0f0ff;
  font-family: 'Rajdhani', sans-serif;
  min-height: 100vh;
  overflow-x: hidden;
}

.controls {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 100;
  background: rgba(10, 5, 21, 0.95);
  border-bottom: 1px solid rgba(255, 0, 110, 0.3);
  padding: 16px 24px;
  display: flex;
  flex-wrap: wrap;
  gap: 16px;
  align-items: center;
  backdrop-filter: blur(20px);
}

.control-group {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.control-group label {
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 2px;
  color: #00d9ff;
  font-weight: 600;
}

.control-group select,
.control-group input[type="range"] {
  background: rgba(255, 0, 110, 0.1);
  border: 1px solid rgba(255, 0, 110, 0.3);
  color: #f0f0ff;
  padding: 6px 10px;
  border-radius: 4px;
  font-family: 'Rajdhani', sans-serif;
  font-size: 13px;
}

.control-group select:focus { outline: 1px solid #ff006e; }

.control-group input[type="range"] {
  width: 120px;
  accent-color: #ff006e;
}

.variants {
  padding-top: 100px;
  display: flex;
  flex-direction: column;
  gap: 0;
}

.variant-section {
  min-height: 50vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 60px 40px;
  border-bottom: 1px solid rgba(255, 0, 110, 0.1);
  position: relative;
}

.variant-label {
  position: absolute;
  top: 20px;
  left: 24px;
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 3px;
  color: #00d9ff;
  font-weight: 600;
}

.variant-desc {
  position: absolute;
  top: 40px;
  left: 24px;
  font-size: 13px;
  color: rgba(240, 240, 255, 0.5);
  max-width: 500px;
}

/* ============================================
   VARIANT 1: SVG Heartbeat Line Through Text
   ============================================ */

.heartbeat-title-v1 {
  position: relative;
  width: 100%;
  max-width: 1000px;
  height: 200px;
}

.heartbeat-title-v1 svg {
  width: 100%;
  height: 100%;
  overflow: visible;
}

.heartbeat-line {
  fill: none;
  stroke: var(--primary, #ff006e);
  stroke-width: 2.5;
  stroke-linecap: round;
  stroke-linejoin: round;
  filter: drop-shadow(0 0 6px var(--primary, #ff006e)) drop-shadow(0 0 12px var(--primary, #ff006e));
}

.heartbeat-line-bg {
  fill: none;
  stroke: var(--primary, #ff006e);
  stroke-width: 2.5;
  stroke-linecap: round;
  stroke-linejoin: round;
  opacity: 0.15;
}

.heartbeat-pulse {
  fill: none;
  stroke: #fff;
  stroke-width: 3.5;
  stroke-linecap: round;
  stroke-linejoin: round;
  filter: drop-shadow(0 0 8px #fff) drop-shadow(0 0 20px var(--primary, #ff006e));
}

.ekg-text {
  fill: var(--primary, #ff006e);
  font-size: 72px;
  font-weight: 700;
  letter-spacing: 8px;
  filter: drop-shadow(0 0 10px var(--primary, #ff006e)) drop-shadow(0 0 30px var(--primary, #ff006e));
}

/* ============================================
   VARIANT 2: CSS Text + Sweeping Pulse
   ============================================ */

.heartbeat-title-v2 {
  position: relative;
  display: inline-block;
}

.heartbeat-text {
  font-size: clamp(48px, 8vw, 100px);
  font-weight: 700;
  letter-spacing: 0.15em;
  color: var(--primary, #ff006e);
  text-shadow: 0 0 10px var(--primary, #ff006e),
               0 0 30px var(--primary, #ff006e),
               0 0 60px var(--primary, #ff006e);
  position: relative;
  white-space: nowrap;
}

.heartbeat-text::after {
  content: '';
  position: absolute;
  top: 0;
  left: -10%;
  width: 15%;
  height: 100%;
  background: linear-gradient(90deg,
    transparent,
    rgba(255, 255, 255, 0.4),
    transparent
  );
  animation: sweepPulse var(--speed, 3s) ease-in-out infinite;
}

@keyframes sweepPulse {
  0% { left: -15%; }
  100% { left: 110%; }
}

.ekg-underline {
  position: relative;
  width: 100%;
  height: 40px;
  margin-top: -10px;
}

.ekg-underline svg {
  width: 100%;
  height: 100%;
  overflow: visible;
}

/* ============================================
   VARIANT 3: Integrated EKG Path Letters
   ============================================ */

.heartbeat-title-v3 {
  position: relative;
  width: 100%;
  max-width: 1100px;
  height: 180px;
}

.heartbeat-title-v3 svg {
  width: 100%;
  height: 100%;
  overflow: visible;
}

.ekg-integrated-line {
  fill: none;
  stroke: var(--primary, #ff006e);
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
  opacity: 0.3;
}

.ekg-integrated-pulse {
  fill: none;
  stroke: var(--primary, #ff006e);
  stroke-width: 3;
  stroke-linecap: round;
  stroke-linejoin: round;
  filter: drop-shadow(0 0 8px var(--primary, #ff006e)) drop-shadow(0 0 20px var(--primary, #ff006e));
}

.ekg-draw-text {
  fill: none;
  stroke: var(--primary, #ff006e);
  stroke-width: 2;
  font-size: 80px;
  font-weight: 600;
  letter-spacing: 12px;
  filter: drop-shadow(0 0 10px var(--primary, #ff006e));
}

.ekg-fill-text {
  fill: var(--primary, #ff006e);
  stroke: none;
  font-size: 80px;
  font-weight: 600;
  letter-spacing: 12px;
  opacity: 0;
  filter: drop-shadow(0 0 10px var(--primary, #ff006e)) drop-shadow(0 0 30px var(--primary, #ff006e));
}

/* ============================================
   VARIANT 4: Heartbeat Monitor Style
   ============================================ */

.heartbeat-title-v4 {
  position: relative;
  width: 100%;
  max-width: 1100px;
}

.monitor-container {
  position: relative;
  padding: 40px;
}

.monitor-text {
  font-size: clamp(48px, 8vw, 90px);
  font-weight: 700;
  letter-spacing: 0.12em;
  text-align: center;
  position: relative;
  z-index: 2;
  -webkit-text-stroke: 2px var(--primary, #ff006e);
  color: transparent;
  filter: drop-shadow(0 0 8px var(--primary, #ff006e));
}

.monitor-text.filled {
  -webkit-text-stroke: none;
  color: var(--primary, #ff006e);
  text-shadow: 0 0 10px var(--primary, #ff006e),
               0 0 30px var(--primary, #ff006e);
}

.monitor-line-container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1;
}

.monitor-line-container svg {
  width: 100%;
  height: 100%;
}

.monitor-flatline {
  fill: none;
  stroke: var(--primary, #ff006e);
  stroke-width: 2;
  opacity: 0.2;
}

.monitor-pulse-line {
  fill: none;
  stroke: var(--primary, #ff006e);
  stroke-width: 2.5;
  filter: drop-shadow(0 0 6px var(--primary, #ff006e)) drop-shadow(0 0 15px var(--primary, #ff006e));
}

.monitor-dot {
  fill: #fff;
  filter: drop-shadow(0 0 8px #fff) drop-shadow(0 0 20px var(--primary, #ff006e));
}

/* ============================================
   VARIANT 5: Rhythm Pulse + Scale
   ============================================ */

.heartbeat-title-v5 {
  position: relative;
  width: 100%;
  max-width: 1100px;
  text-align: center;
}

.rhythm-text {
  font-size: clamp(48px, 8vw, 90px);
  font-weight: 700;
  letter-spacing: 0.15em;
  color: transparent;
  background: linear-gradient(90deg,
    var(--primary, #ff006e),
    #fff,
    var(--primary, #ff006e)
  );
  background-size: 200% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  animation: rhythmShift var(--speed, 3s) ease-in-out infinite;
  position: relative;
  display: inline-block;
  filter: drop-shadow(0 0 15px var(--primary, #ff006e));
}

@keyframes rhythmShift {
  0%, 100% { background-position: 0% 50%; }
  25% { background-position: 100% 50%; transform: scaleY(1); }
  30% { transform: scaleY(1.03); }
  35% { transform: scaleY(0.97); }
  40% { transform: scaleY(1.01); }
  45% { transform: scaleY(1); }
}

.rhythm-ekg {
  width: 100%;
  height: 30px;
  margin-top: 5px;
}

.rhythm-ekg svg {
  width: 100%;
  height: 100%;
  overflow: visible;
}

</style>
</head>
<body>

<div class="controls" id="controls">
  <div class="control-group">
    <label>Font</label>
    <select id="fontSelect">
      <option value="'Rajdhani', sans-serif" selected>Rajdhani</option>
      <option value="'Orbitron', sans-serif">Orbitron</option>
      <option value="'Michroma', sans-serif">Michroma</option>
      <option value="'Audiowide', sans-serif">Audiowide</option>
      <option value="'Russo One', sans-serif">Russo One</option>
      <option value="'Megrim', cursive">Megrim (Ultra Thin)</option>
      <option value="'Wire One', sans-serif">Wire One (Hairline)</option>
    </select>
  </div>
  <div class="control-group">
    <label>Pulse Speed</label>
    <input type="range" id="speedSlider" min="1" max="8" step="0.5" value="3">
  </div>
  <div class="control-group">
    <label>Glow Intensity</label>
    <input type="range" id="glowSlider" min="0" max="100" step="5" value="60">
  </div>
  <div class="control-group">
    <label>Stroke vs Fill</label>
    <select id="strokeFill">
      <option value="fill">Filled</option>
      <option value="stroke">Stroke Only</option>
      <option value="both">Stroke + Fill</option>
    </select>
  </div>
  <div class="control-group">
    <label>Color</label>
    <select id="colorSelect">
      <option value="#ff006e" selected>Neon Pink</option>
      <option value="#ff1493">Hot Pink</option>
      <option value="#ff0055">Red-Pink</option>
      <option value="#ff3366">Coral Pink</option>
      <option value="#e00060">Deep Rose</option>
    </select>
  </div>
</div>

<div class="variants">

  <!-- VARIANT 1: SVG Heartbeat Line Weaving Through Text -->
  <div class="variant-section">
    <div class="variant-label">Variant 1 — Heartbeat Line Through Text</div>
    <div class="variant-desc">Continuous EKG line with heartbeat spikes between words. Pulse of light sweeps along the line.</div>
    <div class="heartbeat-title-v1" id="v1"></div>
  </div>

  <!-- VARIANT 2: CSS Sweep Pulse + EKG Underline -->
  <div class="variant-section">
    <div class="variant-label">Variant 2 — Sweep Pulse + EKG Underline</div>
    <div class="variant-desc">Text with a light sweep pulse moving through it. Heartbeat EKG line runs underneath.</div>
    <div class="heartbeat-title-v2" id="v2">
      <div class="heartbeat-text" id="v2text">LOVE SICK AGE</div>
      <div class="ekg-underline" id="v2ekg"></div>
    </div>
  </div>

  <!-- VARIANT 3: Draw-on text with EKG line -->
  <div class="variant-section">
    <div class="variant-label">Variant 3 — Stroke Draw Animation</div>
    <div class="variant-desc">Text drawn on as a continuous stroke, like an EKG machine printing the letters. Fills in after drawing.</div>
    <div class="heartbeat-title-v3" id="v3"></div>
  </div>

  <!-- VARIANT 4: Monitor Style -->
  <div class="variant-section">
    <div class="variant-label">Variant 4 — Heart Monitor Overlay</div>
    <div class="variant-desc">Text with a heartbeat monitor line running through the vertical center. Glowing dot traces the pulse.</div>
    <div class="heartbeat-title-v4" id="v4">
      <div class="monitor-container">
        <div class="monitor-text" id="v4text">LOVE SICK AGE</div>
        <div class="monitor-line-container" id="v4line"></div>
      </div>
    </div>
  </div>

  <!-- VARIANT 5: Rhythm Pulse -->
  <div class="variant-section">
    <div class="variant-label">Variant 5 — Rhythm Pulse + Scale</div>
    <div class="variant-desc">Text pulses with a heartbeat rhythm. Subtle scale beat + color gradient shift + EKG line below.</div>
    <div class="heartbeat-title-v5" id="v5">
      <div class="rhythm-text" id="v5text">LOVE SICK AGE</div>
      <div class="rhythm-ekg" id="v5ekg"></div>
    </div>
  </div>

</div>

<script>
// Helper to clear a container safely
function clearChildren(el) {
  while (el.firstChild) {
    el.removeChild(el.firstChild);
  }
}

// ========== EKG Path Generator ==========
function generateEKGPath(startX, endX, centerY, numBeats, amplitude) {
  const segmentWidth = (endX - startX) / numBeats;
  let d = 'M ' + startX + ' ' + centerY;

  for (let i = 0; i < numBeats; i++) {
    const x = startX + i * segmentWidth;
    const flatLen = segmentWidth * 0.35;
    const spikeStart = x + flatLen;
    const spikeWidth = segmentWidth * 0.3;

    // Flat line
    d += ' L ' + spikeStart + ' ' + centerY;
    // P wave (small bump)
    d += ' Q ' + (spikeStart + spikeWidth * 0.1) + ' ' + (centerY - amplitude * 0.15) + ' ' + (spikeStart + spikeWidth * 0.2) + ' ' + centerY;
    // QRS complex (big spike)
    d += ' L ' + (spikeStart + spikeWidth * 0.3) + ' ' + (centerY + amplitude * 0.15);
    d += ' L ' + (spikeStart + spikeWidth * 0.4) + ' ' + (centerY - amplitude);
    d += ' L ' + (spikeStart + spikeWidth * 0.5) + ' ' + (centerY + amplitude * 0.4);
    d += ' L ' + (spikeStart + spikeWidth * 0.6) + ' ' + centerY;
    // T wave (small bump)
    d += ' Q ' + (spikeStart + spikeWidth * 0.8) + ' ' + (centerY - amplitude * 0.2) + ' ' + (spikeStart + spikeWidth) + ' ' + centerY;
    // Flat to end of segment
    d += ' L ' + (x + segmentWidth) + ' ' + centerY;
  }

  return d;
}

function svgEl(tag, attrs) {
  const el = document.createElementNS('http://www.w3.org/2000/svg', tag);
  if (attrs) {
    Object.keys(attrs).forEach(function(key) {
      el.setAttribute(key, attrs[key]);
    });
  }
  return el;
}

// ========== VARIANT 1: SVG Heartbeat Through Text ==========
function initV1() {
  var container = document.getElementById('v1');
  var font = document.getElementById('fontSelect').value;
  var color = document.getElementById('colorSelect').value;
  var speed = parseFloat(document.getElementById('speedSlider').value);

  var svg = svgEl('svg', { viewBox: '0 0 1000 200', preserveAspectRatio: 'xMidYMid meet' });

  var lineY = 110;
  var ekgPath = generateEKGPath(0, 1000, lineY, 5, 50);
  var totalLen = 2800;

  // Background dim line
  var bgLine = svgEl('path', { d: ekgPath, class: 'heartbeat-line-bg' });
  bgLine.style.stroke = color;

  // Main line
  var mainLine = svgEl('path', { d: ekgPath, class: 'heartbeat-line' });
  mainLine.style.stroke = color;

  // Animated pulse on the line
  var pulseLine = svgEl('path', { d: ekgPath, class: 'heartbeat-pulse' });
  pulseLine.style.strokeDasharray = '80 ' + totalLen;
  pulseLine.style.animation = 'dashPulse ' + speed + 's linear infinite';

  // Text
  var text = svgEl('text', { x: '500', y: '130', 'text-anchor': 'middle', class: 'ekg-text' });
  text.style.fontFamily = font;
  text.style.fill = color;
  text.textContent = 'LOVE SICK AGE';

  var style = svgEl('style');
  style.textContent =
    '@keyframes dashPulse { 0% { stroke-dashoffset: ' + totalLen + '; } 100% { stroke-dashoffset: -' + totalLen + '; } }';

  svg.appendChild(style);
  svg.appendChild(bgLine);
  svg.appendChild(text);
  svg.appendChild(mainLine);
  svg.appendChild(pulseLine);

  clearChildren(container);
  container.appendChild(svg);
}

// ========== VARIANT 2: Sweep + EKG Underline ==========
function initV2() {
  var container = document.getElementById('v2ekg');
  var color = document.getElementById('colorSelect').value;
  var speed = parseFloat(document.getElementById('speedSlider').value);
  var font = document.getElementById('fontSelect').value;

  var textEl = document.getElementById('v2text');
  textEl.style.fontFamily = font;
  textEl.style.setProperty('--primary', color);
  textEl.style.color = color;
  textEl.style.textShadow = '0 0 10px ' + color + ', 0 0 30px ' + color + ', 0 0 60px ' + color;
  textEl.style.setProperty('--speed', speed + 's');

  var svg = svgEl('svg', { viewBox: '0 0 1000 40', preserveAspectRatio: 'xMidYMid meet' });
  var ekgPath = generateEKGPath(0, 1000, 20, 6, 15);

  var bgLine = svgEl('path', { d: ekgPath });
  bgLine.style.fill = 'none';
  bgLine.style.stroke = color;
  bgLine.style.strokeWidth = '1.5';
  bgLine.style.opacity = '0.3';

  var pulseLine = svgEl('path', { d: ekgPath });
  pulseLine.style.fill = 'none';
  pulseLine.style.stroke = color;
  pulseLine.style.strokeWidth = '2';
  pulseLine.style.filter = 'drop-shadow(0 0 4px ' + color + ') drop-shadow(0 0 10px ' + color + ')';
  pulseLine.style.strokeDasharray = '60 2000';
  pulseLine.style.animation = 'dashV2 ' + speed + 's linear infinite';

  var style = svgEl('style');
  style.textContent =
    '@keyframes dashV2 { 0% { stroke-dashoffset: 2060; } 100% { stroke-dashoffset: -2060; } }';

  svg.appendChild(style);
  svg.appendChild(bgLine);
  svg.appendChild(pulseLine);

  clearChildren(container);
  container.appendChild(svg);
}

// ========== VARIANT 3: Stroke Draw Animation ==========
function initV3() {
  var container = document.getElementById('v3');
  var font = document.getElementById('fontSelect').value;
  var color = document.getElementById('colorSelect').value;
  var speed = parseFloat(document.getElementById('speedSlider').value);

  var svg = svgEl('svg', { viewBox: '0 0 1100 180', preserveAspectRatio: 'xMidYMid meet' });

  var lineY = 130;
  var ekgPath = generateEKGPath(0, 1100, lineY, 4, 25);
  var textLen = 3000;

  var ekgLine = svgEl('path', { d: ekgPath, class: 'ekg-integrated-line' });
  ekgLine.style.stroke = color;

  var ekgPulse = svgEl('path', { d: ekgPath, class: 'ekg-integrated-pulse' });
  ekgPulse.style.stroke = color;
  ekgPulse.style.strokeDasharray = '40 2500';
  ekgPulse.style.animation = 'dashV3 ' + speed + 's linear infinite';

  // Stroke text (draws on)
  var strokeText = svgEl('text', { x: '550', y: '115', 'text-anchor': 'middle', class: 'ekg-draw-text' });
  strokeText.style.fontFamily = font;
  strokeText.style.stroke = color;
  strokeText.textContent = 'LOVE SICK AGE';
  strokeText.style.strokeDasharray = textLen;
  strokeText.style.strokeDashoffset = textLen;
  strokeText.style.animation = 'drawText ' + (speed * 2) + 's ease forwards, glowIn ' + (speed * 2) + 's ease forwards';

  // Fill text (fades in after draw)
  var fillText = svgEl('text', { x: '550', y: '115', 'text-anchor': 'middle', class: 'ekg-fill-text' });
  fillText.style.fontFamily = font;
  fillText.style.fill = color;
  fillText.textContent = 'LOVE SICK AGE';
  fillText.style.animation = 'fadeInFill ' + speed + 's ease ' + (speed * 1.5) + 's forwards';

  var style = svgEl('style');
  style.textContent =
    '@keyframes dashV3 { 0% { stroke-dashoffset: 2540; } 100% { stroke-dashoffset: -2540; } } ' +
    '@keyframes drawText { 0% { stroke-dashoffset: ' + textLen + '; } 100% { stroke-dashoffset: 0; } } ' +
    '@keyframes glowIn { 0% { filter: none; } 100% { filter: drop-shadow(0 0 10px ' + color + '); } } ' +
    '@keyframes fadeInFill { 0% { opacity: 0; } 100% { opacity: 1; } }';

  svg.appendChild(style);
  svg.appendChild(ekgLine);
  svg.appendChild(ekgPulse);
  svg.appendChild(strokeText);
  svg.appendChild(fillText);

  clearChildren(container);
  container.appendChild(svg);
}

// ========== VARIANT 4: Heart Monitor Overlay ==========
function initV4() {
  var lineContainer = document.getElementById('v4line');
  var textEl = document.getElementById('v4text');
  var font = document.getElementById('fontSelect').value;
  var color = document.getElementById('colorSelect').value;
  var speed = parseFloat(document.getElementById('speedSlider').value);
  var strokeFill = document.getElementById('strokeFill').value;

  textEl.style.fontFamily = font;

  if (strokeFill === 'fill') {
    textEl.className = 'monitor-text filled';
    textEl.style.color = color;
    textEl.style.webkitTextStroke = 'none';
    textEl.style.textShadow = '0 0 10px ' + color + ', 0 0 30px ' + color;
  } else if (strokeFill === 'stroke') {
    textEl.className = 'monitor-text';
    textEl.style.color = 'transparent';
    textEl.style.webkitTextStroke = '2px ' + color;
    textEl.style.textShadow = 'none';
    textEl.style.filter = 'drop-shadow(0 0 8px ' + color + ')';
  } else {
    textEl.className = 'monitor-text filled';
    textEl.style.color = color;
    textEl.style.webkitTextStroke = '1px ' + color;
    textEl.style.textShadow = '0 0 10px ' + color + ', 0 0 30px ' + color;
  }

  var svg = svgEl('svg', { viewBox: '0 0 1000 200', preserveAspectRatio: 'xMidYMid meet' });
  var centerY = 100;
  var ekgPath = generateEKGPath(0, 1000, centerY, 3, 60);

  var flatline = svgEl('path', { d: ekgPath, class: 'monitor-flatline' });
  flatline.style.stroke = color;

  var pulseLine = svgEl('path', { d: ekgPath, class: 'monitor-pulse-line' });
  pulseLine.style.stroke = color;
  pulseLine.style.strokeDasharray = '150 2500';
  pulseLine.style.animation = 'monitorPulse ' + speed + 's linear infinite';

  // Glowing dot at the leading edge
  var dot = svgEl('circle', { r: '4', class: 'monitor-dot' });
  var animateMotion = svgEl('animateMotion', {
    dur: speed + 's',
    repeatCount: 'indefinite',
    path: ekgPath
  });
  dot.appendChild(animateMotion);

  var style = svgEl('style');
  style.textContent =
    '@keyframes monitorPulse { 0% { stroke-dashoffset: 2650; } 100% { stroke-dashoffset: -2650; } }';

  svg.appendChild(style);
  svg.appendChild(flatline);
  svg.appendChild(pulseLine);
  svg.appendChild(dot);

  clearChildren(lineContainer);
  lineContainer.appendChild(svg);
}

// ========== VARIANT 5: Rhythm Pulse ==========
function initV5() {
  var textEl = document.getElementById('v5text');
  var ekgContainer = document.getElementById('v5ekg');
  var font = document.getElementById('fontSelect').value;
  var color = document.getElementById('colorSelect').value;
  var speed = parseFloat(document.getElementById('speedSlider').value);

  textEl.style.fontFamily = font;
  textEl.style.setProperty('--primary', color);
  textEl.style.setProperty('--speed', speed + 's');
  textEl.style.backgroundImage = 'linear-gradient(90deg, ' + color + ', #fff, ' + color + ')';
  textEl.style.filter = 'drop-shadow(0 0 15px ' + color + ')';

  var svg = svgEl('svg', { viewBox: '0 0 1000 30', preserveAspectRatio: 'xMidYMid meet' });
  var ekgPath = generateEKGPath(0, 1000, 15, 8, 10);

  var bgLine = svgEl('path', { d: ekgPath });
  bgLine.style.fill = 'none';
  bgLine.style.stroke = color;
  bgLine.style.strokeWidth = '1';
  bgLine.style.opacity = '0.2';

  var pulseLine = svgEl('path', { d: ekgPath });
  pulseLine.style.fill = 'none';
  pulseLine.style.stroke = color;
  pulseLine.style.strokeWidth = '2';
  pulseLine.style.filter = 'drop-shadow(0 0 4px ' + color + ')';
  pulseLine.style.strokeDasharray = '50 2000';
  pulseLine.style.animation = 'rhythmDash ' + speed + 's linear infinite';

  var style = svgEl('style');
  style.textContent =
    '@keyframes rhythmDash { 0% { stroke-dashoffset: 2050; } 100% { stroke-dashoffset: -2050; } }';

  svg.appendChild(style);
  svg.appendChild(bgLine);
  svg.appendChild(pulseLine);

  clearChildren(ekgContainer);
  ekgContainer.appendChild(svg);
}

// ========== Init All ==========
function initAll() {
  initV1();
  initV2();
  initV3();
  initV4();
  initV5();
}

// Controls
document.getElementById('fontSelect').addEventListener('change', initAll);
document.getElementById('speedSlider').addEventListener('input', initAll);
document.getElementById('glowSlider').addEventListener('input', function() {
  var val = this.value / 100;
  document.documentElement.style.setProperty('--glow-intensity', val);
});
document.getElementById('strokeFill').addEventListener('change', initAll);
document.getElementById('colorSelect').addEventListener('change', initAll);

// Init on load
initAll();
</script>

</body>
</html>
